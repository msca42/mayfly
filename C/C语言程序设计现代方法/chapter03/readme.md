# 格式化输入/输出

- scanf 函数和 printf 函数是格式化输入和输出

## C 语言的基本输入/输出

- 在 C 语言中，数据输入/输出的标准设备是键盘和显示器
- 计算机内部数据都是二进制形式存储和表示，进行数据的输入和输出操作时，需要对数据进行格式化，转换成正确的数据格式
- scanf 和 printf 函数的格式串中转换说明和转义序列的主要功能: 明确标识嵌入其中的数据类型及对应的格式信息

## printf 函数
- printf 函数被设计用来显示格式串的内容，并且在该串中的指定位置插入可能的值
- 格式 printf(格式串,表达式 1,表达式 2,...)
- 格式串
  - 普通字符
  - 转换说明
    - 转换说明以字符%开头，表示打印过程中待填充的值的占位符
    - 跟随在%之后的信息指定了把数值从二进制转换成字符的方法
- 转换说明格式%(+/-)m.pX
  - m 和 p 都是整数常量，X 是字母
  - 正负号表示对齐方式
    - 正号表示右对齐
    - 负号表示左对齐
  - 最小字段宽度 m 指定了要显示的最少字符数量
    - 如果要显示的数值所需的字符少于 m，值在字段内是右对齐,在值前面放置额外的空格
    - 如果在 m 前加上一个负号，左对齐
    - 如果要显示的数值所需的字符数多于 m，字段宽度自动扩展为所需的尺寸
  - 精度 p 需要转换指定符X
    - d 表示十进制整数，p 指明了待显示的数字的最少个数，默认 1，如果少于最少个数，左侧加零
    - e 表示指数(科学记数法)形式的浮点数，p 指明了小数点后应该出现的数字的个数,默认 6，如果 p 为 0，不显示小数点
    - f 表示定点十进制形式的浮点数，没有指数，含义同 e
    - g 表示指数形式或定点十进制的浮点数
      - 表示指数形式浮点数，p可以显示的有效数字的最大数量
      - 表示定点十进制浮点数，p是小数点后的数字
  
- 转义序列
  - 作用: 在字符串包含一些特殊字符而不会使编译器引发问题
  - 示例: 警报符\a，回退符\b，换行符\n，水平制表符\t

## scanf 函数
- 根据特定的格式读取输入
- scanf 函数的格式串也可以包含普通字符和转换说明两部分,但是多数情况下，scanf 函数只包含转换说明
- 机制原理
  - 本质是一个模式匹配函数，试图把输入的字符组与转换说明相匹配;
- 详细说明
  - scanf 函数从左边开始处理字符串中的信息，对于格式串中每一个转换说明符，scanf 从输入数据中定位适当类型的项，忽略空白字符(空格符、水平和垂直制表符、换页符和换行符)，如果读入数据项成功，继续处理剩余部分，如果读入数据不成功，不再查看剩余部分，并立即返回
  - 对于整数: scanf函数首先寻找正负号，然后读取数字，直到读到一个非数字为止
  - 对于浮点数: scanf函数首先寻找正负号，然后时一串数字，再往后时一个指数
- 格式串中的普通字符
  - 空白字符
    - scanf 函数从输入中重复读空白字符直到遇到一个非空白字符
    - 格式串中的一个空白字符可以与输入中任意数量的空白字符匹配
  - 其他字符
    - scanf 函数会将它与下一个输入字符相比较，如果匹配，scanf 函数会放弃输入字符继续处理字符串，如果不匹配，scanf 函数会把不匹配的字符放入输入中，异常退出
