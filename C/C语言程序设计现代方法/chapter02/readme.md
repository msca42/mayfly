# C 语言基本概念

## 编写一个简单的 C 程序

- 给出一个简单的 C 程序，并描述如何对这个程序进行编译和链接

- 编写扩展名为 c 的源代码
- 将程序转换为机器可执行的形式
  - 预处理: 程序交给预处理器，预处理器执行以#开头的命令，给程序添加内容
  - 编译: 修改后的程序进入编译器，编译器将程序翻译成机器指令(目标代码)
  - 链接: 链接器  合，形成可以执行的程序
  - 预处理器通常和编译器集成在一起，系统还会自动进行链接操作
- 在 Unix 系统中，通常把 C 编译器命名为 cc, 默认可执行文件名为 a.out,其中一个选项-o 允许含有可执行程序的文件选择名字

## 简单程序的一般形式

- 如何使程序通用

- 模板

```
指令
int main(void)
{
  声明
  语句
}
```

- 三个关键的语言特性

  - 指令(在编译前修改程序的编辑命令)
    - 把预处理器执行的命令称为指令，这里即#include <stdio.h>
    - C 语言不同于其他编程语言，没有内置的读写命令，输入输出功能由标准库中的函数实现
    - 所有指令都是以字符#开始，默认只占一行
  - 函数(被命名的可执行代码块)

    - 用来构建程序的构建块，C 程序就是函数的集合
    - 可以分为两大类: 程序员编写的函数、库函数(C 语言实现的一部分提供的函数)
    - 在 C 语言中，函数仅仅是一系列组合在一起并且赋予了名字的语句，使用 return 语句返回计算数值
    - main 函数必须存在，执行程序时，系统自动调用
    - return 0 两个作用: 一是使 main 函数终止，二是指出 main 函数的返回值是 0

  - 语句(程序运行时执行的命令)
    - pun.c 只用到两种语句,一个是返回语句，一个是函数调用语句
    - C 语言中的语句: 函数调用语句、返回语句、表达式语句、复合语句、空语句
    - 函数调用: 要求函数执行分派给它的任务
    - C 语言规定每条语句都要以分号结尾

- 显示字符串
  - printf 函数显示了一条字面串(用一对引号包围一系列字符)
  - 使用\n 表示换行

## 注释

- 如何添加说明性解释

- 将文档说明，每个程序包含识别信息即程序名、编写日期、作者、程序用途等相关信息放在注释中
- 翼型注释/\*\*/可以占用多行
- C99 提供另一种注释//, 特点: 行末终止

## 变量和赋值

- 介绍变量
- C 语言将程序执行过程中临时存储数据的存储单元称为变量
- 每一个变量都有一个类型，类型是用来规范变量存储的数据的种类，以及可以对变量进行的操作
  - int 类型可以存储整数
  - float 类型可以存储带小数点的数，需要后缀 f
  - float 类型进行算术运算比 int 慢，且存储的是近似值
- 在变量使用之前必须对其声明(为编译器做描述)，声明必须放置在语句之前，声明格式:类型 名字;

- 变量通过赋值的方式获取值，这些数值也称为常量
- 表达式: 含有常量、变量和与运算符的公式

- 显示变量的值

  - printf 函数格式化输出，使用占位符指明在显示过程中变量的具体位置，%d 表示 int 变量、%f 表示 float 变量，默认显示小数点后 6 位数字，使用通过%.pf 设置小数点后显示位数

- 初始化

  - 没有默认值且尚未在程序中被赋值的变量是未初始化的
  - 在程序开始执行时，某些变量会被自动设置为零
  - 在声明中对变量赋值进行初始化的数据称为初始化器

- 显示表达式的值
  - printf 可以显示任意数值表达式的值

## 读入输入

- 说明利用 scanf 函数把数据读入变量的方法
- 格式串 printf 表示输出，scanf 表示输入

## 定义常量的名字

- 常量是程序执行过程中不会发生改变的数据
- 使用宏定义的特性给常量命名
- #define 是预处理指令，宏定义只用了大写字母
- 编译时，预处理器会把每个宏替换为其所表示的值

## 标识符

- 解释 C 语言的命名规则

- 对变量、函数、宏和其他实体进行命名的名字称为标识符
- 标识符命名规则:
  - 字母、数字和下划线组成
  - 必须以字母或下划线开头
  - 区分大小写
- 两种风格规范
  - 全小写但是在单词之间加上下划线
  - 首字母小写但是后学单词首字母大写
- 关键字
  - 对 C 编译器而言都有着特殊的意义

## C 程序的书写规范

- 给出 C 程序的布局规范

- 将 C 程序看作一连串的记号(token),即许多在不改变意思的基础上无法再分割的字符组。
- 记号: 标识符、关键字、运算符、标点符号、字面串
- C 语言允许在记号之间插入任意数量的间隔，这些间隔可以是空格符、制表符和换行符，这样做的好处
  - 语句可以分开放在任意多行内
  - 记号间的空格更容易区分记号
  - 缩进有助于识别程序嵌套
  - 空行可以把程序划分成逻辑单元
