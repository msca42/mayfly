# 表达式

- C 语言的一大特点就是强调表达式而非语句
- 表达式
  - 表示如何计算值的公式
  - 分类: 
    - 操作数
      - 变量: 程序运行时需要计算的值
      - 常量：不变的值
    - 把运算符作用于操作数

## 算术运算符

- 分类

  - 一元运算符
    - \+ 一元正号运算符
    - \- 一元负号运算符
  - 二元运算符
    - 加法类: +、-
    - 乘法类: \*、/、%
  - 注意事项
    - 除法的结果会丢弃分数部分
    - 取余要求操作数是整数
    - 0 作为除法或取余的右操作数会导致未定义的行为
    - 当除法或取余作用于负操作数，结果和实现有关，C89 中可以向上也可以向下，C99 中总是趋零截尾
      - 所谓实现：程序在特定平台上发编译、链接和执行所需的软件
  - 除法的原理
    - (a / b) \* b + a % b = a
    - 通过上述公式可以推算模运算的结果，具体步骤为计算除法的两种可能性，然后依据公式推算模

- 运算符优先级和结合性
  - 问题: 当表达式中出现多个运算符，如何执行
  - 最直接的方案: 在表达式中添加圆括号
  - 默认方案: 按照运算符优先级和结合性进行运算

## 赋值运算符

- 作用: 将数据存储到变量中，以供之后使用
- 简单赋值
  - 格式: =
  - 如果右值的类型和左值的类型不同，会把右值的类型转换为左值
  - 说明: 许多编程语言中，赋值是语句，但在 C 语言中，赋值是运算符，会产生结果，其结果就是左值
- 左值
  - 赋值语句的左操作数必须是左值，表示对象
  - 目前为止，变量是唯一的左值
- 复合赋值
  - 利用变量的原有值计算出新值并重新赋值给这个变量
  - 格式: ?=
  - 复合赋值与运算赋值不一定完全等同

## 自增运算符和自减运算符

- 格式: ++、--
- 可以作为前缀或后缀，实现在原先基础上加 1 的操作
  - 前缀表示先进行加 1 操作，后缀表示先取值进行运算操作

## 表达式求值
- 表达式的值可能依赖于子表达式的求值顺序，但是C 语言中没有定义子表达式的求值顺序
- 上述情况中表达式大多具有相同的值，但是如果子表达式改变了操作数的值，就会出现意外(未定义的情况)
  - 子表达式改变操作数有两种方式，第一种是直接赋值，第二种是使用自增或自减运算符


## 表达式语句

- 任何表达式都可以在后面添加分号转换为语句
