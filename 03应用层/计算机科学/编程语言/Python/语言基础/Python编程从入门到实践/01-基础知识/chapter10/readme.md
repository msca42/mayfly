# 文件和异常

- 主要内容
  - 如何使用文件
  - 如何处理错误以免程序意外崩溃

## 读取文件

- 文件处理首先解决的问题是文件的位置(路径)
  - 通过 pathlib 模块的 Path 类
- 根据 Path 类创建 Path 对象
  - 类的属性是路径+文件名
- 使用 read_text()方法读取文件内容，作为一个字符串返回文件的全部内容
- splitlines() 方法将字符串转换为一系列行,返回一个列表，包含文件的所有行

## 写入文件

- 使用 write_text()方法写入文件
  - 文件不存在，自动创建文件
  - 接收单个实参，即要写入文件的字符串
  - 可以通过换行转义字符拼接的操作实现输入多行的效果

## 异常

- Python 使用异常作为特殊对象来管理程序执行期间发生的错误
- 异常通过使用 try-except 代码块来处理
- 此外还可以包含一个 else 代码块，在 try 代码块执行成功后执行
- 静默失败
  - 在 except 代码块中使用 pass,可以让程序在错误时什么都不做

## 存储数据

- 使用模块 json 存储数据
- 模块 json
  - 将 Python 数据结构转换为 JSON 格式的字符串
  - dumps()存储数据
    - 参数为要存储的文件名 xx.json
    - 返回值生成一个字符串，包含要存储数据的 JSON 格式
  - loads()读取数据
    - 参数为 json 格式的字符串
    - 返回值是一个 Python 对象

## 小结

- 文件
- 异常
- json 模块
