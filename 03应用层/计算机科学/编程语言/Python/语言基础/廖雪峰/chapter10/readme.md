# 面向对象编程

## 类和实例

- 类是抽象模板，实例是具体对象
- 类格式
  - class 类名(父类):
    - pass
- 属性
  - 通过\_\_init\_\_方法进行初始化
    - 参数: self 表示实例本身，永远作为第一个参数
- 数据封装
  - 通过方法访问数据，而非从外部访问数据
  - 方法的第一个参数也是 self，表示实例本身
- 类主要由属性和方法组成

## 访问限制

- 通过属性前缀\_\_(双下划线)可以将其变为私有属性
- 增加公共方法 get 和 set，实现对属性的访问和修改
- 对于单下划线的属性，可以直接访问，但约定俗成视为私有属性
- 说明
  - 对于私有属性，可以通过*类名*属性名访问

## 继承和多态
- 继承
  - 子类获得了父类的全部功能
  - 当子类和父类具有相同的方法时，子类方法覆盖父类方法
- 多态
  - 子类类型可以看作父类类型
  - 调用时看父类、运行时看子类
- 鸭子类型
  - 对于静态语言来说，传入的对象类型必须是父类及其子类
  - 对于动态语言来说，传入的对象类型只需要由相应的方法，不需要严格的继承体系

## 获取对象信息
- 判断对象类型
  - type()函数: 返回对应的Class类型
  - 判断类型是否相同
    - 对于基本类型可以直接使用
    - 对于函数类型可以使用types模块中的常量
- 对于继承关系
  - isinstance()
- 获取属性和方法
  - 获取所有：dir()
  - 获取单个: getattr()
    - 获取不存在的属性或报错，通过设置默认属性值可以避免
  - 设置单个: setattr()
  - 是否存在: hasattr()

## 实例属性和类属性
- 通过self绑定的属性是实例属性
- 在class中定义的属性是类属性