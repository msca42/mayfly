# 数据存储

## 目标
- 列出计算机中使用的5种不同的数据类型
- 描述不同的数据如何以位模式存储在计算机内部
- 描述整数如何以无符号格式存储在计算机中
- 描述整数如何以符号加绝对值格式存储在计算机中
- 描述整数如何以二进制补码格式存储在计算机中
- 描述实数如何以浮点格式存储在计算机中
- 描述文本如何二通过各种不同的编码系统存储在计算机中
- 描述音频如何二通过采样、量化和编码存储在计算机中
- 描述图像如何通过光栅和矢量图模式存储在计算机中
- 描述视频如何以图像随时间变化的表示存储在计算机中

## 数据类型
- 五种数据类型: 数字、文本、音频、图像、视频
- 计算机内部使用统一的数据表示，使用0和1的二进制，称为位模式
    - 多个位模式组成的序列称为位流
    - 8个位模式称为1字节

## 存储数字
- 数字可以分为整数和浮点数
- 整数使用定点表示法
    - 定点表示法是将小数点假定为固定在最右，且并不存储
- 无符号表示法
    - 无符号整数包含零和整数，在计算机中通常表示为0~2^n - 1,n表示为用于表示无符号整数的二进制位数
    - 如何存储
        - 将整数转化为二进制整数
        - 如果不足n位，左边补0，如果超过n位，溢出
    - 应用
        - 计数、寻址、存储其他数据类型
- 符号加绝对值表示法
    - 如何存储
        - 使用符号位加数值的表示，首位为符号位，其他位为数值位，0表示正数，1表示负数
    - 缺点：
        - 两个0，一个正0，一个负0
        - 两个溢出范围，正溢出和负溢出
    - 应用
        - 存储部分实数、用于采样模拟信号
- 二进制补码表示法
    - 如何存储
        - 最左位表示符号位，0表示正、1表示负数，符号位也是数值位
        - 正整数的原码、反码和补码在计算机中存储形式一致
        - 负整数在计算机中以补码形式存储
    - 反码
        - 将整数二进制的0和1取反
    - 补码
        - 先取整数二进制的反码
        - 在反码的基础上加上1
    - 应用
        - 存储位于n位存储单元的有符号整数
- 实数是带有整数部分和小数部分的数字，也称为浮点数
    - 使用浮点数表示法，分为三部分: 符号、位移量、定点数
        - 符号: 表示数字的正负
        - 位移量: 显示小数点应该左右移动的位移量
        - 定点数: 小数点位置固定的定点表示法
    - 规范化
        - 科学计数法(十进制)和浮点表示法(二进制)都在小数点左边使用唯一的非零数码
        - 科学计数法小数点左边唯一数码范围1~9
        - 浮点数计数法小数点左边唯一数码为1
    - 表示实数的三部分信息
        - 符号S:用一个二进制位存储，0表示正数，1表示负数
        - 指数E:定义为小数点移动的位数，为有符号数，通常使用余码表示法表示指数的方法
        - 尾数M:定义为小数点右边的二进制数，表示精度，通常使用无符号整数存储，将符号和尾数合并，使用符号加绝对值表示法存储
    - 余码表示法
        - 通过在原本范围(有符号整数)之上加上偏移量的方法来表示指数，从而使所有数都是非负数
        - 偏移量的值为2^(m-1) - 1，m是内存单元存储指数的大小
    - IEEE标准
        - 单精度
            - 符号位 1位
            - 指数位 8位
            - 尾数位 23位 
        - 双精度
            - 符号位 1位
            - 指数位 11位
            - 尾数位 52位
    - 将实数转化为IEEE表示步骤
        - 确定S符号位
        - 将数字转化为二进制
        - 规范化
        - 找到E和M的值
            - E = 真实指数 + 偏移量
            - M 扩展为符合当前精度的二进制序列
        - 连接S、E和M
    - 存储零
        - 符号、指数、尾数都设为零

## 存储文本
- 文本是用来表示语言中特定意思的符号
- 存储符号的位模式数量和符号的数量呈对数关系
- 代码
    - 不同用于表示文本符号位模式的集合
    - ASCII
        - 使用7位表示每个符号，可以定义128种符号
    - Unicode
        - 使用32位表示每个符号，可以定义2^32个符号

## 存储音频
- 音频是模拟数据，使用每隔一段时间的信号密度表示
- 通过以下步骤获取
    - 采样
        - 在模拟信号上选择数量有限的点来度量值
        - 通过采样率表示每秒收集的样本
    - 量化
        - 将样本值截取为最接近的整数值一种过程
    - 编码
        - 将量化的样本编码成位模式
        - 每样本位: 每个样本分配的位数，有8，16，24，32，也称为位深度
        - 位率: 每秒的样本数量和每样本位的乘积
- 声音编码标准
    - MP3: 每秒44100个样本以及每样本16位

## 存储图像
- 两种技术: 光栅图、矢量图
- 光栅图
    - 模拟数据，数据密度随空间变化
    - 采样称为扫描，样本称为像素
    - 解析度
        - 每英寸方块或线条记录象素数，称为扫描率，也称为解析度
    - 色彩深度
        - 用于表现像素的位的数量
        - 真彩色
            - 使用24位编码一个像素，三原色都是8位
        - 索引色
            - 使用8位编码存储一个像素
    - 编码标准
        - JPEG 真彩色
        - GIF 索引色
- 矢量图
    - 使用几何图形组合成图片