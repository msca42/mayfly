# 计算机概要与技术

## 引言

- 计算机的分类
  - 个人计算机、服务器、嵌入式计算机
- 后 PC 时代产物
  - 个人移动设备、云计算
- 理解程序性能
  - 决定程序性能的因素：
    - 算法
    - 编程语言、编译器和体系结构
      - 决定每条源码语句对应计算机指令的数量
    - 处理器和存储系统
      - 决定指令执行速度
    - I/O 系统(硬件和操作系统)
      - 决定 I/O 操作执行速度

## 计算机体系结构中的 8 个伟大思想

- 摩尔定律
  - 单芯片上所集成的晶体管资源每 18 至 24 个月翻一番
- 使用抽象简化设计
  - 使用抽象来表示不同的设计层次--隐藏低层细节给高层提供一个简单模型
- 加速经常性事件
  - 经常性事件的优化提升远比优化罕见事件要高的多
- 并行提高性能
- 流水线提高性能
  - 并行性的一种特殊场景
- 预测提高性能
- 通过将存储分层合理利用资源
- 通过冗余提高可靠性

## 程序表象之下

- 层次结构图: 硬件、系统软件、应用软件
- 系统软件: 提供常用服务的软件，包括操作系统，编译器，加载程序和汇编器
  - 操作系统
    - 用户程序和硬件之间的接口，为用户提供各种服务和监控功能
    - 作用
      - 处理基本的输入和输出
      - 分配外存和内存
      - 为多个应用程序提供共享计算机资源的服务
  - 编译器
    - 把高级语言编写的程序翻译成硬件能够执行的指令
- 从高级语言到硬件语言
  - 硬件使用电信号交流、电信号在计算机中的以指令的形式表示，指令就是能够被识别并执行的位串，也就是 0 和 1 组成的数字串
  - 最初程序员使用二进制数与计算机通信，二进制数称为机器语言
  - 之后发明了助记符和汇编程序，通过汇编器将助记符翻译成二进制指令，助记符称为汇编语言
  - 汇编语言和机器语言一一对应
  - 高级编程语言由单词和代数组成的最接近人类语言的计算机语言，通过编译器编译，有两种方式，一种是高级语言-汇编语言-机器语言，一种是高级语言-机器语言

## 箱盖后的硬件

- 基本功能: 输入、输出、处理、存储数据
- 5 个部件:
  - 输入、输出、存储器、运算器和控制器
    - 运算器：实现算术运算功能
    - 控制器：指导运算器
    - 存储器
      - 内存: 运行时程序(指令)和数据的存储空间,由 DRAM 芯片组成，易失性存储器
      - 高速缓存: 采用 SRAM，是 DRAM 的缓冲，易失性存储器
      - 辅助存储：非易失性存储器
- 图形显示器
  - 技术发展历史: CRT-LCD-OLED-Micro LED
- 指令系统体系结构
  - 定义了硬件和底层软件之间的接口
  - 包含编写正确运行机器语言程序所需的全部信息(指令、寄存器、存储访问和 I/O)
  - 应用二进制接口
    - 用户部分的指令和应用程序员调用的操作系统接口

## 处理器和存储器制造技术

- 计算机采用技术发展
  - 真空管、晶体管、集成电路、超大规模集成电路、甚大规模集成电路
- 芯片的制造流程
  - 硅锭、切片机、空白晶圆、化学加工生产步骤、曝光成像后的晶圆、晶圆测试仪、测试后的晶圆、切块机、测试后的晶片、封装晶片、成品测试仪、用户

## 性能

- 衡量性能的标准会根据不同的对象不同
- 常见标准
  - 响应时间: 执行时间、计算机完成某任务所需的总时间
  - 吞吐率: 带宽，单位时间内完成任务的数量
  - 个人设备更关注响应时间，服务器更关注吞吐率
- 时间分类
  - 响应时间、挂钟时间、运行时间: 完成任务总时间，包括硬盘访问，内存访问，I/O 操作，操作系统开销等一切时间
  - CPU 执行时间: 执行任务在 CPU 上花费的时间，不包括等待 I/O 或运行其他程序的时间
  - 用户 CPU 时间: 在程序本身所花费的 CPU 时间
  - 系统 CPU 时间: 执行程序花费在操作系统上的时间
  - 系统性能： 空载系统的响应时间
- 时钟周期
  - 时钟周期数: 处理器执行一条特定指令、一个程序段或整个程序所需的时钟周期的总数量
  - 时钟周期长度: 计算机处理器中一个时钟周期所持续的时间长度
  - 时钟频率：时钟周期长度的倒数
- 公式
  - 程序的 CPU 执行时间 = 程序的 CPU 时钟周期数 x 时钟周期长度
  - CPU 时钟周期数 = 程序的指令数 x 指令的平均时钟时间数 CPI
  - CPU 时间 = 指令数 x CPI x 时钟周期时间

## 功耗墙

## 沧海巨变：从单处理器向多处理器转变
